"use strict";const e=require("../../../common/vendor.js"),r=require("../../../store/index.js");if(require("../../../utils/cache/index.js"),require("../../../enum/cacheEnum.js"),!Array){(e.resolveComponent("van-radio")+e.resolveComponent("van-radio-group")+e.resolveComponent("van-cell")+e.resolveComponent("van-field")+e.resolveComponent("van-button"))()}const a={__name:"cal",setup(a){const l=r.useStore();e.ref(!1),e.ref(!1);const t=e.reactive({sex:{value:0,error:"",label:"性别"},age:{value:void 0,required:!0,validate:e=>e>0&&e<100?"":"年龄不得小于0 ，不得大于100",label:"性别",error:""},height:{value:void 0,required:!0,validate:e=>e>100&&e<250?"":"身高不得小于100 ，不得大于250",label:"身高",error:""},weight:{value:void 0,required:!0,validate:e=>e>20&&e<400?"":"体重不得小于20 ，不得大于400",label:"体重",error:""},bodyFat:{value:void 0,required:!1,validate:e=>e>0&&e<40?"":"体脂不得小于0 ，不得大于40",error:""},active:{value:void 0,required:!0,label:"活动系数",error:""},exercise:{value:void 0,required:!0,label:"碳水摄入量",error:""},goal:{value:1,required:!0,label:"目标",error:""}}),o=e.ref([{key:1.2,text:"久坐且不运动"},{key:1.375,text:"久坐, 少量或不运动, 但职业要求少量运动"},{key:1.55,text:"久坐但规律训练, 适合大部分训练者"},{key:1.725,text:"动的多, 练得多"},{key:1.9,text:"从事体力劳动且训练消耗大"}]),u=e.ref(),v=e.ref([{key:1,text:"减肥计划执行者,适用于很少的增氧练习"},{key:2,text:"睡觉,看电视,久坐"},{key:3,text:"日常家务事(多数成年人的摄入量)"},{key:4,text:"散步,温和运动"},{key:4.5,text:"修养运动,健身练习(3~5小时/周)"},{key:5,text:"足球,橄榄球,篮球,健身,塑身,举重(5~6小时/周)"},{key:6,text:"中等运动强度(7~10小时/周)"},{key:8,text:"健身运动,耐力运动,跑步(10小时以上/周)"},{key:10,text:"全职运动员,超强耐力训练,铁人三项(15小时/周)"}]);e.ref([{key:1,value:"减脂"},{key:2,value:"塑形"},{key:3,value:"增肌"}]);const i=e.ref();e.ref();const n=(e,r)=>{const a=e.detail.value||e.detail,l=Number(a);t[r].value=l},d=(r,a)=>{"activeIdx"===a?(u.value=Number(r.detail.value),t.active.value=e.unref(o)[e.unref(u)].key):"exerciseIdx"===a&&(i.value=Number(r.detail.value),t.exercise.value=e.unref(v)[e.unref(i)].key)},s=async()=>{const r=await(async()=>{let e=!1;const r={};for(let a in t){const l=t[a];l.error="",l.required&&!l.value?l.error=`${l.label}为必填项哦`:l.validate&&(l.error=l.validate(l.value)),l.error?e=!0:r[a]=l.value}return e?Promise.reject("请检查输入的数据"):Promise.resolve(r)})();l.setBodyInfos({...r,activeIdx:e.unref(u),exerciseIdx:e.unref(i)}),e.index.navigateTo({url:"../result/result"})};return e.onLoad((r=>{if(!e.lodashExports.isEmpty(l.bodyInfos)){const{bodyInfos:e}=l;for(let r in e)"exerciseIdx"===r?i.value=e[r]:"activeIdx"===r?u.value=e[r]:t[r].value=e[r]}})),(r,a)=>e.e({a:e.p({name:0}),b:e.p({name:1,checkedColor:"#07c160"}),c:e.o((e=>t.sex.value=e.detail)),d:e.p({value:t.sex.value,direction:"horizontal"}),e:e.p({title:"性别"}),f:e.o((e=>n(e,"age"))),g:e.o((e=>n(e,"age"))),h:e.p({value:t.age.value,label:"年龄",type:"number",required:!0,placeholder:"请输入年龄",errorMessage:t.age.error}),i:e.o((e=>n(e,"height"))),j:e.o((e=>n(e,"height"))),k:e.p({value:t.height.value,type:"number",required:!0,label:"身高(cm)",placeholder:"请输入身高",errorMessage:t.height.error}),l:e.o((e=>n(e,"weight"))),m:e.o((e=>n(e,"weight"))),n:e.p({value:t.weight.value,type:"number",required:!0,label:"体重(kg)",placeholder:"请输入体重",errorMessage:t.weight.error}),o:e.o((e=>n(e,"bodyFat"))),p:e.o((e=>n(e,"bodyFat"))),q:e.p({value:t.bodyFat.value,type:"number",label:"体脂(%)",placeholder:"请输入体脂(非必填)"}),r:!u.value&&0!==u.value},u.value||0===u.value?{s:e.t(o.value[u.value].text)}:{},{t:e.o((e=>d(e,"activeIdx"))),v:u.value,w:o.value,x:e.t(t.active.error),y:!i.value&&0!==i.value},i.value||0===i.value?{z:e.t(v.value[i.value].text)}:{},{A:e.o((e=>d(e,"exerciseIdx"))),B:i.value,C:v.value,D:e.t(t.exercise.error),E:e.p({name:1}),F:e.p({name:2}),G:e.p({name:3}),H:e.o((e=>t.goal.value=e.detail)),I:e.p({direction:"horizontal",value:t.goal.value}),J:e.p({title:"目标"}),K:e.o(s),L:e.p({color:"linear-gradient(to right, #4bb0ff, #6149f6)",round:!0,customStyle:"width: 300px;"})})}};wx.createPage(a);
