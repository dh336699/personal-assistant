"use strict";const e=require("../../common/vendor.js"),t=require("../../api/juhe.js"),a=require("../../store/index.js"),s=require("../../utils/utils.js");if(require("../../utils/http/index.js"),require("../../utils/auth/index.js"),require("../../enum/cacheEnum.js"),require("../../utils/http/http.js"),require("../../config/index.js"),require("../../hooks/useEnv.js"),require("../../utils/http/helper.js"),require("../../utils/cache/index.js"),!Array){(e.resolveComponent("uni-tag")+e.resolveComponent("van-collapse-item")+e.resolveComponent("van-collapse")+e.resolveComponent("van-calendar")+e.resolveComponent("van-button"))()}Math;const o={__name:"remaining",setup(o){const i=e.ref(!1);e.ref(new Date(2e3,0,1).getTime()),e.ref(new Date(2050,11,31).getTime());const n=e.ref([]),r=e.ref(["1"]),l=new Map,u=a.useStore(),c=t=>{const a=e.dayjs(t.date).format("M月D号"),s=e.dayjs(t.date).format("YYYY-MM-DD");return l.has(a)?(t.bottomInfo=l.get(a),t.className="festival"):l.has(s)&&(t.bottomInfo=l.get(s),t.className="festival"),t};return e.onLoad((async()=>{if(s.msg.loading(),e.lodashExports.isEmpty(u.vacation)){const e=await t.getVacationList();null==e||e.list.forEach((e=>{var t;l.set(e.holiday,e.name),e.vacation=e.vacation?null==(t=e.vacation)?void 0:t.split("|"):[],e.vacation.forEach((e=>{l.set(e,"假期")}))})),n.value=e.list,u.setVacation(e.list)}n.value=u.vacation,s.msg.hide()})),(t,a)=>e.e({a:e.f(n.value,((t,a,s)=>({a:e.t(t.tip),b:e.f(t.vacation,((t,a,o)=>({a:"5fd878ec-2-"+s+"-"+o+",5fd878ec-1-"+s,b:e.p({text:t,size:"small",type:"primary"}),c:t}))),c:e.t(t.rest),d:t.name,e:"5fd878ec-1-"+s+",5fd878ec-0",f:e.p({title:t.name+" "+t.holiday,name:t.holiday})}))),b:e.o((e=>r.value=e.detail)),c:e.p({value:r.value}),d:i.value},i.value?{e:e.o((e=>i.value=!1)),f:e.p({show:!0,formatter:c})}:{},{g:e.o((()=>i.value=!0)),h:e.p({type:"primary",block:!0})})}};wx.createPage(o);
