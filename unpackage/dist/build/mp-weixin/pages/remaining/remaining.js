"use strict";const e=require("../../common/vendor.js"),a=require("../../api/juhe.js"),t=require("../../store/index.js"),o=require("../../utils/utils.js");if(require("../../utils/http/index.js"),require("../../utils/auth/index.js"),require("../../enum/cacheEnum.js"),require("../../utils/http/http.js"),require("../../config/index.js"),require("../../hooks/useEnv.js"),require("../../utils/http/helper.js"),require("../../utils/cache/index.js"),!Array){(e.resolveComponent("uni-tag")+e.resolveComponent("van-collapse-item")+e.resolveComponent("van-collapse")+e.resolveComponent("van-calendar")+e.resolveComponent("van-button"))()}Math;const s={__name:"remaining",setup(s){const i=e.ref(!1);e.ref(new Date(2e3,0,1).getTime()),e.ref(new Date(2050,11,31).getTime());const n=e.ref([]),r=e.ref(["1"]),l=new Map,u=t.useStore(),c=a=>{const t=e.dayjs(a.date).format("M月D号"),o=e.dayjs(a.date).format("YYYY-MM-DD");return l.has(t)?(a.bottomInfo=l.get(t),a.className="festival"):l.has(o)&&(a.bottomInfo=l.get(o),a.className="festival"),a};return e.onLoad((async()=>{if(o.msg.loading(),e.lodashExports.isEmpty(u.vacation)){const e=await a.getVacationList();u.setVacation(e.list)}n.value=u.vacation,n.value.forEach((e=>{var a;l.set(e.holiday,e.name),e.vacation=e.vacation?null==(a=e.vacation)?void 0:a.split("|"):[],e.vacation.forEach((e=>{l.set(e,"假期")}))})),o.msg.hide()})),(a,t)=>e.e({a:e.f(n.value,((a,t,o)=>({a:e.t(a.tip),b:e.f(a.vacation,((a,t,s)=>({a:"5fd878ec-2-"+o+"-"+s+",5fd878ec-1-"+o,b:e.p({text:a,size:"small",type:"primary"}),c:a}))),c:e.t(a.rest),d:a.name,e:"5fd878ec-1-"+o+",5fd878ec-0",f:e.p({title:a.name+" "+a.holiday,name:a.holiday})}))),b:e.o((e=>r.value=e.detail)),c:e.p({value:r.value}),d:i.value},i.value?{e:e.o((e=>i.value=!1)),f:e.p({show:!0,formatter:c})}:{},{g:e.o((()=>i.value=!0)),h:e.p({type:"primary",block:!0})})}};wx.createPage(s);
