"use strict";const e=require("../../common/vendor.js"),a=require("../../api/juhe.js"),t=require("../../store/index.js");if(require("../../utils/http/index.js"),require("../../utils/auth/index.js"),require("../../enum/cacheEnum.js"),require("../../utils/http/http.js"),require("../../config/index.js"),require("../../hooks/useEnv.js"),require("../../utils/http/helper.js"),require("../../utils/cache/index.js"),!Array){(e.resolveComponent("uni-tag")+e.resolveComponent("van-collapse-item")+e.resolveComponent("van-collapse")+e.resolveComponent("van-calendar")+e.resolveComponent("van-button"))()}Math;const o={__name:"remaining",setup(o){const n=e.ref(!1);e.ref(new Date(2e3,0,1).getTime()),e.ref(new Date(2050,11,31).getTime());const s=e.ref([]),r=e.ref(["1"]),i=new Map,l=t.useStore(),c=a=>{const t=e.dayjs(a.date).format("M月D号"),o=e.dayjs(a.date).format("YYYY-MM-DD");return i.has(t)?(a.bottomInfo=i.get(t),a.className="festival"):i.has(o)&&(a.bottomInfo=i.get(o),a.className="festival"),a};return e.onLoad((async()=>{if(e.lodashExports.isEmpty(l.vacation)){const e=await a.getVacationList();l.setVacation(e.list)}s.value=l.vacation,s.value.forEach((e=>{var a;i.set(e.holiday,e.name),e.vacation=e.vacation?null==(a=e.vacation)?void 0:a.split("|"):[],e.vacation.forEach((e=>{i.set(e,"假期")}))})),console.log(i)})),(a,t)=>e.e({a:e.f(s.value,((a,t,o)=>({a:e.t(a.tip),b:e.f(a.vacation,((a,t,n)=>({a:"4a7bc74a-2-"+o+"-"+n+",4a7bc74a-1-"+o,b:e.p({text:a,size:"small",type:"primary"}),c:a}))),c:e.t(a.rest),d:a.name,e:"4a7bc74a-1-"+o+",4a7bc74a-0",f:e.p({title:a.name+" "+a.holiday,name:a.holiday})}))),b:e.o((e=>r.value=e.detail)),c:e.p({value:r.value}),d:n.value},n.value?{e:e.o((e=>n.value=!1)),f:e.p({show:!0,formatter:c})}:{},{g:e.o((()=>n.value=!0)),h:e.p({type:"primary",block:!0})})}};wx.createPage(o);
